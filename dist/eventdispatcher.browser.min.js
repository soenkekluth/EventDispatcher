!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.EventDispatcher=e()}}(function(){return function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var f="function"==typeof require&&require;if(!u&&f)return f(o,!0);if(s)return s(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var h=n[o]={exports:{}};t[o][0].call(h.exports,function(e){var n=t[o][1][e];return i(n?n:e)},h,h.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}Object.defineProperty(n,"__esModule",{value:!0});var s={},o=function(){function e(){r(this,e),this._eventMap={},this._destroyed=!1,this.on=this.bind=this.addEventListener=this.addListener,this.off=this.unbind=this.removeEventListener=this.removeListener,this.once=this.one=this.addListenerOnce,this.emmit=this.trigger=this.dispatchEvent=this.dispatch}return e.getInstance=function(t){if(!t)throw new Error("key must be");return s[t]||(s[t]=new e)},e.prototype.addListener=function(e,t){var n=this.getListener(e);return n?-1===n.indexOf(t)&&n.push(t):this._eventMap[e]=[t],this},e.prototype.addListenerOnce=function(e,t){var n=this,r=arguments,i=this,s=function o(){return i.removeListener(e,o),t.apply(n,r)};return this.addListener(e,s)},e.prototype.removeListener=function(e,t){if("undefined"==typeof t)return this.removeAllListener(e);var n=this.getListener(e);if(n){var r=n.indexOf(t);r>-1&&(n=n.splice(r,1),n.length||delete this._eventMap[e])}return this},e.prototype.removeAllListener=function(e){var t=this.getListener(e);return t&&(this._eventMap[e].length=0,delete this._eventMap[e]),this},e.prototype.hasListener=function(e){return null!==this.getListener(e)},e.prototype.hasListeners=function(){return null!==this._eventMap&&void 0!==this._eventMap&&!i(this._eventMap)},e.prototype.dispatch=function(e,t){var n=this.getListener(e);if(n){t=t||{},t.type=e,t.target=t.target||this;for(var r=-1;++r<n.length;)n[r](t)}return this},e.prototype.getListener=function(e){var t=this._eventMap?this._eventMap[e]:null;return t||null},e.prototype.destroy=function(){if(this._eventMap){for(var e in this._eventMap)this.removeAllListener(e);this._eventMap=null}return this._destroyed=!0,this},e}();n["default"]=o,t.exports=n["default"]},{}]},{},[1])(1)});