!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.EventDispatcher=e()}}(function(){return function e(t,n,i){function r(s,u){if(!n[s]){if(!t[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var a=n[s]={exports:{}};t[s][0].call(a.exports,function(e){var n=t[s][1][e];return r(n?n:e)},a,a.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}Object.defineProperty(n,"__esModule",{value:!0});var o={},s=function(){function e(){i(this,e),this._eventMap={},this._destroyed=!1,this.on=this.bind=this.addEventListener=this.addListener,this.off=this.unbind=this.removeEventListener=this.removeListener,this.once=this.one=this.addListenerOnce,this.emit=this.trigger=this.dispatchEvent=this.dispatch}return e.getInstance=function(t){if(!t)throw new Error("key must be");return o[t]||(o[t]=new e)},e.prototype.addListener=function(e,t){var n=this.getListener(e);return n?-1===n.indexOf(t)&&n.push(t):this._eventMap[e]=[t],this},e.prototype.addListenerOnce=function(e,t){var n=this,i=function(r){t(r),n.off(e,i),t=null,i=null};return this.on(e,i)},e.prototype.removeListener=function(e,t){if(!t)return this.removeAllListener(e);var n=this.getListener(e);if(n){var i=n.indexOf(t);i>-1&&(n=n.splice(i,1),n.length||delete this._eventMap[e])}return this},e.prototype.removeAllListener=function(e){var t=this.getListener(e);return t&&(this._eventMap[e].length=0,delete this._eventMap[e]),this},e.prototype.hasListener=function(e){return null!==this.getListener(e)},e.prototype.hasListeners=function(){return null!==this._eventMap&&void 0!==this._eventMap&&!r(this._eventMap)},e.prototype.dispatch=function(e,t){var n=this.getListener(e);if(n){t=t||{},t.type=e,t.target=t.target||this;for(var i=-1;++i<n.length;)n[i](t)}return this},e.prototype.getListener=function(e){var t=this._eventMap?this._eventMap[e]:null;return t||null},e.prototype.destroy=function(){if(this._eventMap){for(var e in this._eventMap)this.removeAllListener(e);this._eventMap=null}return this._destroyed=!0,this},e}();n["default"]=s,t.exports=n["default"]},{}]},{},[1])(1)});